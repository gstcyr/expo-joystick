{"version":3,"file":"ExpoJoystickModule.web.js","sourceRoot":"","sources":["../src/ExpoJoystickModule.web.ts"],"names":[],"mappings":"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","sourcesContent":["import {EventEmitter} from 'expo-modules-core';\n\nconst emitter = new EventEmitter({} as any);\n\nconst BUTTON_MAPPING: { [key: number]: number } = {\n    0: 96,  // A button -> KEYCODE_BUTTON_A\n    1: 97,  // B button -> KEYCODE_BUTTON_B\n    4: 102, // L1 -> KEYCODE_BUTTON_L1\n    5: 103, // R1 -> KEYCODE_BUTTON_R1\n    6: 104, // L2 -> KEYCODE_BUTTON_L2\n    7: 105, // R2 -> KEYCODE_BUTTON_R2\n    10: 106, // L3/THUMBL -> KEYCODE_BUTTON_THUMBL\n    11: 107, // R3 (if needed)\n    8: 109,  // Select/Back\n    9: 108,  // Start\n};\n\nconst AXIS_NAMES = {\n    0: 'AXIS_X',      // Left stick X\n    1: 'AXIS_Y',      // Left stick Y\n    2: 'AXIS_Z',      // Right stick X\n    3: 'AXIS_RZ',     // Right stick Y (rotation Z)\n    4: 'AXIS_RX',     // Left trigger\n    5: 'AXIS_RY',     // Right trigger\n};\n\ntype WebSocketState = 'disconnected' | 'connecting' | 'connected' | 'error';\n\nclass ExpoJoystickWeb {\n    private gamepadIndex: number | null = null;\n    private animationFrameId: number | null = null;\n    private lastAxisValues: { [key: string]: number } = {};\n    private buttonStates: { [key: number]: boolean } = {};\n    private isPolling: boolean = false;\n\n    private webSocket: WebSocket | null = null;\n    private socketState: WebSocketState = 'disconnected';\n    private lastIp: string | null = null;\n    private lastPort: number | null = null;\n    private retryAttempts: number = 0;\n    private retryTimeout: number | null = null;\n\n    private sendOverWsEnabled: { [key: number]: boolean } = {};\n    private buttonModifiers: { [key: number]: { [key: string]: any } } = {};\n    private axisModifiers: { [key: string]: { [key: string]: any } } = {};\n    private deadzoneOverrides: { [key: string]: number } = {};\n    private defaultDeadzone: number = 0.01;\n    private axisInversions: { [key: string]: boolean } = {\n        'AXIS_X': false,\n        'AXIS_Y': false,\n        'AXIS_Z': false,\n        'AXIS_RZ': false\n    };\n\n    private pollIntervalMs: number = 40; // 25 FPS\n    private lastPollTime: number = 0;\n    private lastSentPayload: any = null;\n\n    constructor() {\n        Object.values(BUTTON_MAPPING).forEach(keyCode => {\n            this.sendOverWsEnabled[keyCode] = true;\n        });\n\n        this.startGamepadDetection();\n    }\n\n    private startGamepadDetection() {\n        window.addEventListener('gamepadconnected', (e: GamepadEvent) => {\n            console.log('Gamepad connected:', e.gamepad);\n            this.gamepadIndex = e.gamepad.index;\n            this.startPolling();\n        });\n\n        window.addEventListener('gamepaddisconnected', (e: GamepadEvent) => {\n            console.log('Gamepad disconnected:', e.gamepad);\n            if (this.gamepadIndex === e.gamepad.index) {\n                this.gamepadIndex = null;\n                this.stopPolling();\n            }\n        });\n\n        const gamepads = navigator.getGamepads();\n        for (let i = 0; i < gamepads.length; i++) {\n            if (gamepads[i]) {\n                this.gamepadIndex = i;\n                this.startPolling();\n                break;\n            }\n        }\n    }\n\n    private startPolling() {\n        if (this.isPolling) return;\n        this.isPolling = true;\n        this.lastPollTime = performance.now();\n        this.pollGamepad();\n    }\n\n    private stopPolling() {\n        this.isPolling = false;\n        if (this.animationFrameId !== null) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = null;\n        }\n    }\n\n    private pollGamepad() {\n        if (!this.isPolling) return;\n\n        const now = performance.now();\n        const deltaTime = now - this.lastPollTime;\n\n        if (deltaTime >= this.pollIntervalMs) {\n            this.lastPollTime = now;\n            this.updateGamepadState();\n        }\n\n        this.animationFrameId = requestAnimationFrame(() => this.pollGamepad());\n    }\n\n    private updateGamepadState() {\n        if (this.gamepadIndex === null) return;\n\n        const gamepads = navigator.getGamepads();\n        const gamepad = gamepads[this.gamepadIndex];\n\n        if (!gamepad) return;\n\n        gamepad.buttons.forEach((button, index) => {\n            const pressed = button.pressed;\n            const wasPressed = this.buttonStates[index] || false;\n\n            if (pressed !== wasPressed) {\n                this.buttonStates[index] = pressed;\n                this.handleButtonEvent(index, pressed);\n            }\n        });\n\n        this.handleAxisEvent(gamepad);\n    }\n\n    private handleButtonEvent(buttonIndex: number, pressed: boolean) {\n        const keyCode = BUTTON_MAPPING[buttonIndex];\n        if (keyCode === undefined) return;\n\n        const keyName = this.getKeyName(keyCode);\n\n        this.sendButtonEvent(keyName, keyCode, pressed)\n    }\n\n    private sendButtonEvent(keyName: string, keyCode: number, pressed: boolean) {\n        const action = pressed ? 'ACTION_DOWN' : 'ACTION_UP';\n\n        const params = {\n            action,\n            keyCode,\n            keyName,\n            modifiers: this.buttonModifiers[keyCode] || {}\n        };\n\n        if (this.sendOverWsEnabled[keyCode]) {\n            this.sendJsonOverWebSocket({\n                method: 'onButtonPress',\n                data: params\n            });\n        }\n    }\n\n    private handleAxisEvent(gamepad: Gamepad) {\n        const axisValuesToSend: { [key: string]: number } = {};\n        const axisModifiersToSend: { [key: string]: any } = {};\n        let hasMovement = false;\n\n        gamepad.axes.forEach((value, index) => {\n            const axisName = AXIS_NAMES[index as keyof typeof AXIS_NAMES];\n            if (!axisName) return;\n\n            const previousValue = this.lastAxisValues[axisName] || 0;\n\n            if (this.shouldIncludeAxis(axisName, value, previousValue)) {\n                const invertedValue = this.axisInversions[axisName] ? -value : value;\n                axisValuesToSend[axisName] = invertedValue;\n\n                const axisCode = this.getAxisCode(axisName);\n                if (this.axisModifiers[axisCode]) {\n                    axisModifiersToSend[axisName] = this.axisModifiers[axisCode];\n                }\n\n                if (Math.abs(value) > this.defaultDeadzone) {\n                    hasMovement = true;\n                }\n            }\n\n            this.lastAxisValues[axisName] = value;\n        });\n\n        if (gamepad.axes.length > 9) {\n            const hatX = gamepad.axes[9] || 0;\n            const hatY = gamepad.axes[10] || 0;\n\n            if (this.shouldIncludeAxis('AXIS_HAT_X', hatX, this.lastAxisValues['AXIS_HAT_X'] || 0)) {\n                axisValuesToSend['AXIS_HAT_X'] = hatX;\n            }\n            if (this.shouldIncludeAxis('AXIS_HAT_Y', hatY, this.lastAxisValues['AXIS_HAT_Y'] || 0)) {\n                axisValuesToSend['AXIS_HAT_Y'] = hatY;\n            }\n\n            this.lastAxisValues['AXIS_HAT_X'] = hatX;\n            this.lastAxisValues['AXIS_HAT_Y'] = hatY;\n        }\n\n        if (Object.keys(axisValuesToSend).length > 0) {\n            const params = {\n                action: 'ACTION_MOVE',\n                modifiers: axisModifiersToSend,\n                ...axisValuesToSend\n            };\n\n            this.lastSentPayload = params;\n            emitter.emit('onJoyStick', params);\n\n            this.sendJsonOverWebSocket({\n                method: 'onJoystick',\n                data: params\n            });\n        }\n    }\n\n    private shouldIncludeAxis(axisName: string, current: number, previous: number): boolean {\n        const deadzone = this.deadzoneOverrides[axisName] || this.defaultDeadzone;\n        const isMoving = Math.abs(current) > deadzone;\n        const wasMoving = Math.abs(previous) > deadzone;\n\n        return isMoving || wasMoving;\n    }\n\n    private getAxisCode(axisName: string): number {\n        const mapping: { [key: string]: number } = {\n            'AXIS_X': 0,\n            'AXIS_Y': 1,\n            'AXIS_Z': 11,\n            'AXIS_RZ': 14,\n            'AXIS_RX': 12,\n            'AXIS_RY': 13,\n            'AXIS_HAT_X': 15,\n            'AXIS_HAT_Y': 16,\n            'AXIS_SCROLL': 8\n        };\n        return mapping[axisName] || -1;\n    }\n\n    private buildAndSendJoystickState(axisValuesToSend: { [key: string]: number }) {\n        const axisModifiersToSend: { [key: string]: any } = {};\n\n        for (const axisName of Object.keys(axisValuesToSend)) {\n            const axisCode = this.getAxisCode(axisName);\n            if (axisCode !== -1 && this.axisModifiers[axisCode]) {\n                axisModifiersToSend[axisName] = this.axisModifiers[axisCode];\n            }\n        }\n\n        const params = {\n            action: 'ACTION_MOVE',\n            modifiers: axisModifiersToSend,\n            ...axisValuesToSend\n        };\n\n        this.lastSentPayload = params;\n        emitter.emit('onJoyStick', params);\n        this.sendJsonOverWebSocket({\n            method: 'onJoystick',\n            data: params\n        });\n    }\n\n    private resendCurrentJoystickState() {\n        if (Object.keys(this.lastAxisValues).length === 0) return;\n\n        const axisValuesToSend: { [key: string]: number } = {};\n\n        for (const [axisName, rawValue] of Object.entries(this.lastAxisValues)) {\n            const deadzone = this.deadzoneOverrides[axisName] || this.defaultDeadzone;\n\n            const valueToSend = Math.abs(rawValue) <= deadzone\n                ? 0\n                : (this.axisInversions[axisName] ? -rawValue : rawValue);\n\n            axisValuesToSend[axisName] = valueToSend;\n        }\n\n        this.buildAndSendJoystickState(axisValuesToSend);\n    }\n\n    private getKeyName(keyCode: number): string {\n        const mapping: { [key: number]: string } = {\n            96: 'KEYCODE_BUTTON_A',\n            97: 'KEYCODE_BUTTON_B',\n            102: 'KEYCODE_BUTTON_L1',\n            103: 'KEYCODE_BUTTON_R1',\n            104: 'KEYCODE_BUTTON_L2',\n            105: 'KEYCODE_BUTTON_R2',\n            106: 'KEYCODE_BUTTON_THUMBL',\n            107: 'KEYCODE_BUTTON_THUMBR',\n            108: 'KEYCODE_BUTTON_START',\n            109: 'KEYCODE_BUTTON_SELECT'\n        };\n        return mapping[keyCode] || `KEYCODE_${keyCode}`;\n    }\n\n    connectWebSocket(ip: string, port: number) {\n        this.lastIp = ip;\n        this.lastPort = port;\n\n        console.log(\"connectWebSocket\", ip, port)\n\n        const url = `ws://${ip}:${port}`;\n\n        this.socketState = 'connecting';\n        emitter.emit('websocketStatus', {status: 'connecting'});\n\n        try {\n            this.webSocket = new WebSocket(url);\n\n            this.webSocket.onopen = () => {\n                console.log('WebSocket connected to', url);\n                this.retryAttempts = 0;\n                if (this.retryTimeout !== null) {\n                    clearTimeout(this.retryTimeout);\n                    this.retryTimeout = null;\n                }\n                this.socketState = 'connected';\n                emitter.emit('websocketStatus', {status: 'connected'});\n            };\n\n            this.webSocket.onerror = (error) => {\n                console.error('WebSocket error:', error);\n                this.socketState = 'error';\n                emitter.emit('websocketStatus', {\n                    status: 'error',\n                    error: 'Connection error'\n                });\n            };\n\n            this.webSocket.onclose = (event) => {\n                console.log('WebSocket closed:', event.reason);\n\n                if (event.code !== 1000) { // Only reconnect if not manually disconnected\n                    this.attemptReconnect();\n                }\n\n                this.socketState = 'disconnected';\n                emitter.emit('websocketStatus', {status: 'disconnected'});\n            };\n\n        } catch (error) {\n            console.error('Failed to create WebSocket:', error);\n            this.socketState = 'error';\n            emitter.emit('websocketStatus', {\n                status: 'error',\n                error: String(error)\n            });\n        }\n    }\n\n    private attemptReconnect() {\n        if (this.lastIp !== null && this.lastPort !== null) {\n            const delay = 1000 * Math.pow(2, Math.min(this.retryAttempts, 5));\n            this.retryAttempts++;\n\n            if (this.retryTimeout !== null) {\n                clearTimeout(this.retryTimeout);\n            }\n\n            this.retryTimeout = window.setTimeout(() => {\n                this.connectWebSocket(this.lastIp!, this.lastPort!);\n            }, delay);\n\n            console.log(`Retrying in ${delay / 1000}s...`);\n        }\n    }\n\n    disconnectWebSocket() {\n        if (this.retryTimeout !== null) {\n            clearTimeout(this.retryTimeout);\n            this.retryTimeout = null;\n        }\n\n        if (this.webSocket) {\n            this.webSocket.close(1000, 'Manual disconnect');\n            this.webSocket = null;\n        }\n    }\n\n    private sendJsonOverWebSocket(data: any) {\n        if (this.webSocket && this.webSocket.readyState === WebSocket.OPEN) {\n            try {\n                this.webSocket.send(JSON.stringify(data));\n            } catch (error) {\n                console.error('Failed to send JSON over WebSocket:', error);\n            }\n        }\n    }\n\n    getWebSocketStatus(): string {\n        return this.socketState;\n    }\n\n    sendButtonPressOverWebSocket(keyCode: number, enabled: boolean) {\n        this.sendOverWsEnabled[keyCode] = enabled;\n    }\n\n    setButtonModifiers(keyCode: number, modifiers: { [key: string]: any }) {\n        this.buttonModifiers[keyCode] = modifiers;\n    }\n\n    setAxisModifiers(motionEvent: number, modifiers: { [key: string]: any }) {\n        this.axisModifiers[motionEvent] = modifiers;\n    }\n\n    setAxisDeadzone(motionEvent: number, deadzone: number) {\n        const axisName = Object.keys(AXIS_NAMES).find(\n            key => this.getAxisCode(AXIS_NAMES[parseInt(key) as keyof typeof AXIS_NAMES]) === motionEvent\n        );\n\n        if (axisName) {\n            const name = AXIS_NAMES[parseInt(axisName) as keyof typeof AXIS_NAMES];\n            this.deadzoneOverrides[name] = deadzone;\n        }\n\n        this.resendCurrentJoystickState();\n    }\n\n    private getKeyCodeFromName(keyName: string): number | null {\n        const mapping: { [key: string]: number } = {\n            'KEYCODE_BUTTON_A': 96,\n            'KEYCODE_BUTTON_B': 97,\n            'KEYCODE_BUTTON_L1': 102,\n            'KEYCODE_BUTTON_R1': 103,\n            'KEYCODE_BUTTON_L2': 104,\n            'KEYCODE_BUTTON_R2': 105,\n            'KEYCODE_BUTTON_THUMBL': 106,\n            'KEYCODE_BUTTON_THUMBR': 107,\n            'KEYCODE_BUTTON_START': 108,\n            'KEYCODE_BUTTON_SELECT': 109\n        };\n        return mapping[keyName] || null;\n    }\n\n    buttonDown(keyName: string) {\n        const keyCode = this.getKeyCodeFromName(keyName);\n        if (keyCode === null) {\n            console.warn(`Unknown button keyName: ${keyName}`);\n            return;\n        }\n\n        this.sendButtonEvent(keyName, keyCode, true)\n    }\n\n    buttonUp(keyName: string) {\n        const keyCode = this.getKeyCodeFromName(keyName);\n        if (keyCode === null) {\n            console.warn(`Unknown button keyName: ${keyName}`);\n            return;\n        }\n\n        this.sendButtonEvent(keyName, keyCode, false)\n    }\n\n    setJoystickInversion(motionEvent: number, inverted: boolean) {\n        const axisName = Object.keys(AXIS_NAMES).find(\n            key => this.getAxisCode(AXIS_NAMES[parseInt(key) as keyof typeof AXIS_NAMES]) === motionEvent\n        );\n\n        if (axisName) {\n            const name = AXIS_NAMES[parseInt(axisName) as keyof typeof AXIS_NAMES];\n            this.axisInversions[name] = inverted;\n        }\n    }\n\n    leftStickMove(x: number, y: number) {\n        const invertedX = this.axisInversions['AXIS_X'] ? -x : x;\n        const invertedY = this.axisInversions['AXIS_Y'] ? -y : y;\n\n        const axisValuesToSend = {\n            AXIS_X: invertedX,\n            AXIS_Y: invertedY\n        };\n\n        this.buildAndSendJoystickState(axisValuesToSend);\n    }\n\n    rightStickMove(x: number, y: number) {\n        const invertedX = this.axisInversions['AXIS_Z'] ? -x : x;\n        const invertedY = this.axisInversions['AXIS_RZ'] ? -y : y;\n\n        const axisValuesToSend = {\n            AXIS_Z: invertedX,\n            AXIS_RZ: invertedY\n        };\n\n        this.buildAndSendJoystickState(axisValuesToSend);\n    }\n}\n\nconst instance = new ExpoJoystickWeb();\n\nexport default {\n    connectWebSocket: (ip: string, port: number) => instance.connectWebSocket(ip, port),\n    disconnectWebSocket: () => instance.disconnectWebSocket(),\n    getWebSocketStatus: () => instance.getWebSocketStatus(),\n    sendButtonPressOverWebSocket: (keyCode: number, enabled: boolean) =>\n        instance.sendButtonPressOverWebSocket(keyCode, enabled),\n    setButtonModifiers: (keyCode: number, modifiers: { [key: string]: any }) =>\n        instance.setButtonModifiers(keyCode, modifiers),\n    setAxisModifiers: (motionEvent: number, modifiers: { [key: string]: any }) =>\n        instance.setAxisModifiers(motionEvent, modifiers),\n    setAxisDeadzone: (motionEvent: number, deadzone: number) =>\n        instance.setAxisDeadzone(motionEvent, deadzone),\n    buttonDown: (keyName: string) => instance.buttonDown(keyName),\n    buttonUp: (keyName: string) => instance.buttonUp(keyName),\n    setJoystickInversion: (motionEvent: number, inverted: boolean) =>\n        instance.setJoystickInversion(motionEvent, inverted),\n    leftStickMove: (x: number, y: number) => instance.leftStickMove(x, y),\n    rightStickMove: (x: number, y: number) => instance.rightStickMove(x, y),\n};\n"]}